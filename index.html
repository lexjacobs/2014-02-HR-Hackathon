<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<title>Bay Area Bike Share Visualization Feb 2014</title>

<script src='script/d3/d3.js'></script>
<script src='script/underscore.js'></script>
<script src='script/tripData.js'></script>


</head>

<body>

<script>

var w = 1000;
var h = 1000;
var xScale;
var yScale;

var svg = d3.select('body')
            .append('svg')
            .attr('width', w)
            .attr('height', h);

// test data

//min SFlong: -122.388013
//min SFlat: 37.771058
//max SFlong: -122.418954
//max SFlat: 37.804770

var dataset = 
[
[37.794139, -122.394434, 37.794139, -122.394434, 1],
[37.794139, -122.394434, 37.794139, -122.394434, 1],
[37.794139, -122.394434, 37.794139, -122.394434, 1],
[37.794139, -122.394434, 37.784878, -122.401014, 1],
[37.794139, -122.394434, 37.784878, -122.401014, 1],
[37.794139, -122.394434, 37.780356, -122.412919, 1],
[37.794139, -122.394434, 37.780356, -122.412919, 1],
[37.792251, -122.397086, 37.789625, -122.390264, 1]
];




var generateVis = function(){

  var scaler = 1000;

  var latScaler = function(n){
    return (n - 37.771058) * scaler;
  };

  var longScaler = function(n){
    return (Math.abs(n) - 122.388013) * scaler;
  };

  var circles = svg.selectAll('circle')
    .data(dataset)
    .enter()
    .append('circle')
    .attr('cx', function(d){
      // console.log(d);
      return latScaler(d[0]);
    })
    .attr('cy', function(d){
      return longScaler(d[1]);
    })
    .attr('r', 1);

    circles
    .transition()
    .delay(100)
    .duration(300)
    .attr('cx', function(d){
      // console.log(d);
      return latScaler(d[2]);
    })
    .attr('cy', function(d){
      return longScaler(d[3]);
    })
    .attr('r', 1);

};

generateVis();

</script>
</body>
</html>